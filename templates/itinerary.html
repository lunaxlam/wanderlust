{% extends 'base.html' %}
{% block title %}{{ itinerary.itinerary_name}}{% endblock %}

{% block nav %}

<ul><a href="/">Home</a></ul>
<ul><a href="/users">View Wanderlust Community</a></ul>

{% endblock %}

{% block body %}

<h2>Creator: {{itinerary.user.username}}</h2>
<h1>Trip Name: {{ itinerary.itinerary_name }}</h1>
<p>Overview: {{ itinerary.overview }}</p>
<p>Locations: 
    {% for destination in destinations %}

    {{ destination.locale }}, {{ destination.territory }}, {{ destination.country }}

    {% endfor %}

</p>

{% if session["user_id"] == itinerary.user_id %}
<br><br>
<h2>Add New Activity</h2>

<h3> Find a Location</h3>
<h4> Search by Point of Interest</h4>
<form action="/itinerary/{{ itinerary.itinerary_id }}/search">
    <label for="search-keyword">Name of business or point of interest:</label>
    <input type="text" name="keyword" id="search-keyword">
    <label for="search-locale">City or Locale:</label>
    <input type="text" name="locale" id="search-locale">
    <label for="search-territory">State or Territory:</label>
    <input type="text" name="territory" id="search-territory">
    <input type="submit" name="submit">
</form>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

<h3>Activity Details </h3>
<form action="/itinerary/{{ itinerary.itinerary_id}}/add_activity" method="POST">
    <label for="activity-name">Name of Activity:</label>
    <input type="text" name="name" id="activity-name">
    <label for="activity-date">Date:</label>
    <input type="date" name="date" id="activity-date">
    <label for="activity-start">Start Time:</label>
    <input type="time" name="start_time" id="activity-start">
    <label for="activity-end">End Time:</label>
    <input type="time" name="end_time" id="activity-end">
    <label for="activity-notes">Notes:</label>
    <textarea name="notes" id="activity-notes"></textarea>
    <input type="submit" name="submit">
</form>

{% endif %}

{% if activities|length > 0 %}

<h2>Activities</h2>

{% for activity in activities %}

<ul>Activity: {{ activity.activity_name }}</ul>
<ul>Date: {{ activity.date }}</ul>
<ul>Start Time: {{ activity.start_time }}</ul>
<ul>End Time: {{ activity.end_time }}</ul>
<ul>Name of Location: </ul>
<ul>Address: </ul>
<ul>Phone: </ul>
<ul>Ratings: </ul>
<ul>Price Level: </ul>
<ul>Place ID: {{ activity.place_id }}</ul>
<ul>Notes: {{ activity.notes }}</ul>

{% endfor %}

{% endif %}

{% endblock %}